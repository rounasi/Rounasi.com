(function(e){function t(e,t){this._constructor(e,t,0)}function n(n,i){var s=this;this.$element=e(n);this.$base=this.$element;this.$element.wrap('<div class="main_content_slider_wrapper">');this.$parent_wrapper=this.$element.parent();this.options=e.extend({},e.fn.content_slider.defaults,i);if(this.options.border_on_off==0){this.options.arrow_width=this.options.small_arrow_width;this.options.arrow_height=this.options.small_arrow_height;this.options.activate_border_div=0}if(this.options.use_thin_arrows==1){this.options.arrow_width=this.options.small_arrow_width;this.options.arrow_height=this.options.small_arrow_height}if(this.options.activate_border_div==1){this.options.small_pic_width+=this.options.small_border*2;this.options.small_pic_height+=this.options.small_border*2;this.options.big_pic_width+=this.options.big_border*2;this.options.big_pic_height+=this.options.big_border*2;this.options.small_border+=1;this.options.big_border+=1}this.lock=0;this.lock2=0;this.click=0;this.keep_going=0;this.going_counter=0;this.sum_movement=0;this.is_auto_play=0;this.dismiss_auto_play=0;if(this.options.hv_switch)this.last_mouse_x=this.options.y_offset;else this.last_mouse_x=0;this.show_mouse_move=0;this.max_show=this.options.max_shown_items+2;this.anim_counter=0;this.func=this.go_right;this.arrow_hidden_counter=0;this.clicked=0;this.speed=this.options.moving_speed;this.mid_elem=Math.floor(this.options.max_shown_items/2);this.max_pos=3;this.opration=0;this.offset=0;this.was_gone=0;this.number_of_items=0;this.slider_state=0;this.prettyPhoto_status=0;this.mouse_in_animation=0;this.hover_status=0;this.mouse_out_animation=0;this.minus=0;this.real_width=0;this.last_resolution_mode=0;this.last_resolution=0;this.under_600=0;this.mouse_state=0;this.mouse_moved=0;this.ignore_click_up=0;this.ignore_click_down=0;var o=this.$element.offset();this.x_offset=o.left;this.y_offset=o.top;o=this.$parent_wrapper.offset();this.parent_x_offset=o.left;this.last_c={pos:0,master_click:1};this.touch_event=0;this.is_touch_device="ontouchstart"in document.documentElement;this.last_height=this.options.wrapper_text_max_height;if(!this.options.top_offset)this.options.top_offset=Math.floor(this.options.big_pic_height/2)+this.options.big_border+1;this.math=new r(this.options.map.length,this.options.max_shown_items,this.mid_elem,this.options.active_item-this.mid_elem-1,0,this.options.child_div_width,this.options.big_pic_width,this.options.small_pic_width,this.options.small_pic_height,this.options.big_pic_width,this.options.big_pic_height,this.options.top_offset,this.options.small_border,this.options.big_border,this.options.arrow_width,this.options.arrow_height,this.options.container_class_padding,this.options.mode,this,this.options.left_offset);if(this.options.hv_switch==0){var u=this.math._calculate_child_coordinates_by_n(this.max_show-1,0);this.max_width=u.new_pos+this.options.left_offset}else{this.max_width=this.options.wrapper_text_max_height}this.$parent_wrapper.css({"max-width":this.max_width+"px"});this.create_html();this.$prettyPhoto_div=e("div.image_more_info",this.$base);this.$prettyPhoto_a=e("a",this.$prettyPhoto_div);this.$prettyPhoto_a.on("mousedown",e.proxy(this._prettyPhoto_clicked,this));this.$prettyPhoto_a.on("touchstart",e.proxy(this._prettyPhoto_clicked,this));this.$prettyPhoto_img=e("img",this.$prettyPhoto_div);if(this.options.allow_shadow==0){this.$prettyPhoto_div.css("box-shadow","0px 0px 0px #fff")}this.$items=e("div."+this.options.picture_class,this.$base);if(this.options.allow_shadow==0){this.$items.css({"-moz-box-shadow":"0px 0px 0px #fff","-webkit-box-shadow":"0px 0px 0px #fff","box-shadow":"0px 0px 0px #fff"})}this.$left_arrow_class=e(this.options.left_arrow_class,this.$element);this.$right_arrow_class=e(this.options.right_arrow_class,this.$element);if(this.options.border_on_off==0||this.options.use_thin_arrows==1){this.$left_arrow_class.addClass("circle_slider_no_border");this.$right_arrow_class.addClass("circle_slider_no_border")}if(this.options.use_thin_arrows==1){this.$left_arrow_class.addClass("circle_slider_no_border2_left")}this.$left_arrow=e(this.options.left_arrow_class+" img",this.$element);this.$right_arrow=e(this.options.right_arrow_class+" img",this.$element);if(this.options.border_on_off==1){this.$left_arrow.css("background",this.options.arrow_color);this.$right_arrow.css("background",this.options.arrow_color)}this._set_arrows_events();var a=0;this.items=new Array;e.each(this.$items,function(n,r){s.items[a]=new t(r,e.extend(s.options,{$parent:s.$element,parent_this:s,n:a}));a++});this.number_of_items=a;this._preset_all_children_parameters(0);this._align_arrows();this.last_middle=this.math._convert_position_to_image_array(0,this.mid_elem);this._set_parent_window_size();this._return_container_width_height();this.mid=this._return_middle_position_of_content();this.slider_text=e("."+this.options.left_text_class,this.$element);this.max_size=Math.floor((this.options.wrapper_text_max_height-this.ret_values.height-45)/2);this.orig_max_size=this.max_size;if(this.options.max_shown_items>1&&this.options.hv_switch==0){if(this.options.border_on_off==1)e(this.options.text_object,this.$element).css("width",this.max_width-16+"px");else e(this.options.text_object,this.$element).css("width",this.max_width-22+"px")}e(window).resize(e.proxy(this._resize,this));this._resize();var f=this.$container.offset();if(this.options.hv_switch)this.offset=f.top;else this.offset=f.left+this.minus;if(this.options.hv_switch)this._set_text_div_width_ver();else this._set_text_div_width_hor();this.show_text(this.math._convert_position_to_image_array(0,this.mid_elem));this._set_prettyPhoto_div_position();if(this.options.enable_mousewheel==1){this.$container.bind("mousewheel",function(e,t,n,r){e.preventDefault();if(t==-1)s.public_go_left();else s.public_go_right()})}if(this.options.auto_play)this.start_auto_play();if(this.is_touch_device)this._start_main_hover();e(window).on("keydown",e.proxy(this.keypress,this))}function r(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b){var w=this;this.parent_this=y;this.image_array_lenght=e;this.visible_window_lenght=t;this.div_window_lenght=this.visible_window_lenght+2;this.beginning_position_number=-1;this.n_img_offset=r;this.begining_n_img_offset2=r;this.position_n_offset=i;this.element_width=s;this.master_element_width=o;this.master_element_height=l;this.current_mid_after_ratio=1;this.max_show=this.visible_window_lenght;this.sum_movement=0;this.mid_elem=n;this.left_offset=b;this.small_pic_width=u;this.small_pic_height=a;this.big_pic_width=f;this.big_pic_height=l;this.top_offset=c;this.small_border=h;this.big_border=p;this.arrow_width=d;this.arrow_height=v;this.container_padding=m;this.mode=g}t.prototype={$:function(e){return this.$element.find(e)},_constructor:function(t,n,r){var i=this;this.$element=e(t);this.$base=this.$element;this.$parent=n.$parent;this.options=n;this.n=n.n;this.parent_this=n.parent_this;this.have_element=1;this.$image=e("img",this.$element);this.$border_div=e("div."+this.options.border_class,this.$element);this.image_src=this.$image.attr("src");this.turn_counter=0;this.last_mouse_x=0;this.show_mouse_move=0;this.sum_movement=0;this.mouse_in_animation=0;this.hover_status=0;this.mouse_out_animation=0;this.positions=0;this.max=this.parent_this.max_show;this.marg_left=Math.floor((this.options.big_pic_width-this.options.small_pic_width)/2);this.marg_top=Math.floor((this.options.big_pic_height-this.options.small_pic_height)/2);this.$element.mousedown(e.proxy(this._mouse_down,this));this.$element.mouseup(e.proxy(this._mouse_up,this));this.$element.mouseleave(e.proxy(this._mouse_leave,this));this.$element.mousemove(e.proxy(this._mouse_move,this));this.$image.mousedown(e.proxy(this._mouse_down,this));this.$image.mouseup(e.proxy(this._mouse_up,this))},_set_img:function(e){this.image_src=e;this.$image.attr("src",e)},_set_pos_size:function(e,t,n,r,i,s,o,u){var a;var f=this.options.border_color;if(this.options.border_on_off==0)s=0;this.current_border=s;if(!o){if(this.options.border_radius==-1)a=r;else{if(this.options.radius_proportion){var l=this.options.big_pic_width/this.options.border_radius;var c=r/l;a=c}else{a=this.options.border_radius}}if(this.parent_this.options.hv_switch){if(this.options.activate_border_div){this.$element.css({left:n,top:e,width:r,height:i,"border-radius":a,border:f+" solid 0px"});this.$border_div.css({width:r+2,height:i+2,"border-radius":a,border:f+" solid "+s+"px"})}else{this.$element.css({left:n,top:e,width:r,height:i,"border-radius":a,border:f+" solid "+s+"px"})}}else{if(this.options.activate_border_div){this.$element.css({left:e,top:n,width:r,height:i,"border-radius":a,border:f+" solid 0px"});this.$border_div.css({width:r+2,height:i+2,"border-radius":a,border:f+" solid "+s+"px"})}else{this.$element.css({left:e,top:n,width:r,height:i,"border-radius":a,border:f+" solid "+s+"px"})}}this.$image.css({width:r,height:i,"border-radius":a})}else{if(this.options.border_radius==-1)a=this.parent_this.options.big_pic_width;else{if(this.options.radius_proportion){var l=this.options.big_pic_width/this.options.border_radius;var c=r/l;a=c}else{a=this.options.border_radius}}if(this.options.activate_border_div){this.$element.css({"border-radius":a+"px"});this.$border_div.css({"border-radius":a+"px"})}else{this.$element.css({"border-radius":a+"px"})}this.$image.css({"border-radius":a+"px"});if(this.parent_this.options.hv_switch){if(this.options.activate_border_div){this.$element.animate({left:n,top:e,width:r,height:i,"border-width":"0px"},t,this.options.moving_easing,u);this.$border_div.animate({width:r+2,height:i+2,"border-width":s+"px"},t,this.options.moving_easing)}else{this.$element.animate({left:n,top:e,width:r,height:i,"border-width":s+"px"},t,this.options.moving_easing,u)}this.$image.animate({width:i,height:r},t,this.options.arrow_easing,u)}else{if(this.options.activate_border_div){this.$element.animate({left:e,top:n,width:r,height:i,"border-width":"0px"},t,this.options.moving_easing,u);this.$border_div.animate({width:r+2,height:i+2,"border-width":s+"px"},t,this.options.moving_easing)}else{this.$element.animate({left:e,top:n,width:r,height:i,"border-width":s+"px"},t,this.options.moving_easing,u)}this.$image.animate({width:r,height:i},t,this.options.arrow_easing,u)}}},_mouse_down:function(e){e.preventDefault();if(this.options.hv_switch)var t=e.pageY-this.parent_this.y_offset;else var t=e.pageX-this.parent_this.x_offset+this.parent_this.minus;var n=this.parent_this.math._convert_x_position_to_n(t);if(n.master_click==1)return;this._mouse_leave(e)},_mouse_leave:function(e){e.preventDefault();if(this.options.hover_movement==0||this.parent_this.show_mouse_move==1||this.parent_this.slider_state==1)return;if(this.mouse_out_animation==1||this.hover_status==0)return;if(this.mouse_in_animation==1){this.$element.stop();this.$image.stop();if(this.options.activate_border_div)this.$border_div.stop();this.mouse_in_animation=0}if(this.element_top<1){this.hover_status=0;this.mouse_in_animation=0;this.mouse_out_animation=0;return}this.hover_status=1;this.mouse_out_animation=1;this._end_hover2()},_end_hover2:function(){this.$element.animate({left:this.element_left+"px",top:this.element_top+"px",width:this.element_width+"px",height:this.element_height+"px"},this.options.hover_speed,this.options.hover_easing,e.proxy(this._hover_ended2,this));if(this.options.activate_border_div){this.$border_div.animate({width:this.element_width+2+"px",height:this.element_height+2+"px"},this.options.hover_speed,this.options.hover_easing)}this.$image.animate({width:this.image_width+"px",height:this.image_height+"px"},this.options.hover_speed,this.options.hover_easing)},_hover_ended2:function(){this.hover_status=0;this.mouse_out_animation=0},_mouse_move:function(e){e.preventDefault();if(this.options.hover_movement==0||this.parent_this.show_mouse_move==1||this.parent_this.slider_state==1)return;if(this.mouse_in_animation==1||this.hover_status==2)return;if(this.mouse_out_animation==1){this.$element.stop();this.$image.stop();if(this.options.activate_border_div)this.$border_div.stop();this.mouse_out_animation=0}if(this.options.hv_switch)var t=e.pageY-this.parent_this.y_offset;else var t=e.pageX-this.parent_this.x_offset+this.parent_this.minus;var n=this.parent_this.math._convert_x_position_to_n(t);if(n.master_click==1)return;this.hover_status=1;this.mouse_in_animation=1;this._start_hover()},_calculate_hovers:function(){this.positions=1;hover_movement_middle=Math.floor(this.options.hover_movement/2);hover_movement=this.options.hover_movement;hover_movement2=hover_movement*2;var e=this.$element.position();pos2=this.$image.position();this.element_top=e.top;this.element_left=e.left;this.element_width=this.$element.width();this.element_height=this.$element.height();this.image_top=pos2.top;this.image_left=pos2.left;this.image_height=this.$image.height();this.image_width=this.$image.width();this.element_top_middle=this.element_top-hover_movement_middle;this.element_left_middle=this.element_left-hover_movement_middle;this.element_width_middle=this.element_width+hover_movement;this.element_height_middle=this.element_height+hover_movement;this.image_width_middle=this.image_width+hover_movement;this.image_height_middle=this.image_height+hover_movement;this.element_top_end=this.element_top-hover_movement;this.element_left_end=this.element_left-hover_movement;this.element_width_end=this.element_width+hover_movement2;this.element_height_end=this.element_height+hover_movement2;this.image_width_end=this.image_width+hover_movement2;this.image_height_end=this.image_height+hover_movement2},_start_hover:function(){if(this.positions==0){this._calculate_hovers()}if(this.element_top<3){this.hover_status=0;this.mouse_in_animation=0;this.mouse_out_animation=0;return}this.$element.animate({left:this.element_left_end+"px",top:this.element_top_end+"px",width:this.element_width_end+"px",height:this.element_height_end+"px"},this.options.hover_speed,this.options.hover_easing,e.proxy(this._end_hover,this));if(this.options.activate_border_div){this.$border_div.animate({width:this.element_width_end+2+"px",height:this.element_height_end+2+"px"},this.options.hover_speed,this.options.hover_easing)}this.$image.animate({width:this.image_width_end+"px",height:this.image_height_end+"px"},this.options.hover_speed,this.options.hover_easing)},_end_hover:function(){this.$element.animate({left:this.element_left_middle+"px",top:this.element_top_middle+"px",width:this.element_width_middle+"px",height:this.element_height_middle+"px"},this.options.hover_speed,this.options.hover_easing,e.proxy(this._hover_ended,this));if(this.options.activate_border_div){this.$border_div.animate({width:this.element_width_middle+2+"px",height:this.element_height_middle+2+"px"},this.options.hover_speed,this.options.hover_easing)}this.$image.animate({width:this.image_width_middle+"px",height:this.image_height_middle+"px"},this.options.hover_speed,this.options.hover_easing)},_hover_ended:function(){this.hover_status=2;this.mouse_in_animation=0},reset_positions:function(){if(this.positions==0)return;if(this.mouse_in_animation==1||this.mouse_out_animation==1){this.$element.stop();this.$image.stop();if(this.options.activate_border_div)this.$border_div.stop()}if(this.parent_this.mouse_moved==0){this.$element.css({left:this.element_left+"px",top:this.element_top+"px",width:this.element_width+"px",height:this.element_height+"px"});if(this.options.activate_border_div){this.$border_div.css({width:this.element_width+2+"px",height:this.element_height+2+"px"})}this.$image.css({width:this.image_width+"px",height:this.image_height+"px"})}this.positions=0;this.mouse_in_animation=0;this.hover_status=0;this.mouse_out_animation=0}};n.prototype={$:function(e){return this.$element.find(e)},keypress:function(e){if(this.options.bind_arrow_keys){if(e.keyCode==39)this.public_go_left();if(e.keyCode==37)this.public_go_right()}},_prettyPhoto_clicked:function(e){this.ignore_click_up=1;this.ignore_click_down=1},public_go_left:function(){if(this.is_auto_play==1&&this.dismiss_auto_play==1)return;if(this.slider_state==0){this._stop_children();this.slider_state=1;this._arrow_mouse_down();this._arrow_mouse_up();this.left_clicked()}},public_go_right:function(){if(this.is_auto_play==1&&this.dismiss_auto_play==1)return;if(this.slider_state==0){this._stop_children();this.slider_state=1;this._arrow_mouse_down();this._arrow_mouse_up();this.right_clicked()}},check_under_600:function(t){if(this.under_600==0&&t<600){this.under_600=1;this.height_backup=this.$element.height();this.$element.css({height:""});e(this.options.text_object,this.$element).css({"float":"",top:"0px",left:"0px",clear:"both"});if(this.options.small_resolution_max_height)this.$parent_wrapper.css({height:this.options.small_resolution_max_height})}if(this.under_600==1&&t>=600){this.under_600=0;this.$element.css({height:this.height_backup});e(this.options.text_object,this.$element).css({"float":"left",clear:""});if(this.options.small_resolution_max_height)this.$parent_wrapper.css({height:""})}},_resize:function(){var t=e(window).width();if(this.last_resolution==t)return;var n=e(this.$element).offset();this.x_offset=n.left;this.y_offset=n.top;n=this.$parent_wrapper.offset();this.parent_x_offset=n.left;var r=this.$container.offset();if(this.options.hv_switch){this.offset=r.top}else{this.offset=r.left+this.minus}if(t<290)t=290;if(this.options.max_shown_items==1){t=this.options.big_pic_width+63}this.last_resolution=t;if(this.options.hv_switch){this.check_under_600(t);if(this.options.wrapper_text_max_height+13>=t){this.max_size=Math.floor((t-this.ret_values.height-45)/2)-5;if(this.under_600==1){if(this.options.vert_text_mode==1)this.max_size=Math.floor(this.options.big_pic_width/2);else this.max_size=this.options.child_div_width}this._set_parent_window_size(1,t);this._set_text_div_width_ver();this.show_text(this.last_middle,1);this.last_resolution_mode=2}else{if(this.last_resolution_mode==2){this.max_size=this.orig_max_size;this._set_parent_window_size(1,this.options.wrapper_text_max_height);this._set_text_div_width_ver();this.show_text(this.last_middle,1,1)}this.last_resolution_mode=1}return}else{var i=this.real_width;var s=e(this.options.text_field_id_prefix+this.last_middle,this.$element);if(i+13>=t){if(this.options.small_resolution_max_height)this.$parent_wrapper.css({height:this.options.small_resolution_max_height});var o=i+13-t;var u=o;o=Math.floor(o/2)-8;this.minus=o;this.$element.css({left:"-"+o+"px"});$block=e("div.content_slider_text_block_wrap",s);if($block.length){if(typeof this.last_text_width=="undefined")this.last_text_width=s.width();s.css("width",t-10+"px")}this._set_text_div_width_hor();this._set_parent_window_size(1,t-10);this.last_resolution_mode=2}else{if(this.last_resolution_mode==2){if(this.options.small_resolution_max_height)this.$parent_wrapper.css({height:""});this.minus=0;this.$element.css({left:"0px"});this._set_text_div_width_hor();this._set_parent_window_size(1,this.real_width);if(typeof this.last_text_width=="undefined")this.last_text_width=this.real_width-5;s.css("width",this.last_text_width+"px")}this.last_resolution_mode=1}}},_set_text_div_width_hor:function(){$text_element=e(this.options.text_object,this.$element);var t=0;var n=this.mid;var r=e(window).width();if(this.options.max_shown_items==1){r=this.options.big_pic_width+63}if(this.minus>0)n=Math.floor(r/2)-5;if(this.options.activate_border_div==1)t=Math.floor(this.options.big_border/2);var i=0;if(this.options.max_shown_items>1&&this.options.hv_switch==0){if(this.options.border_on_off==1)i=8;else i=11}this.slider_text.css({width:n-this.options.left_text_class_padding-t-i+"px"});if(this.minus>0){$text_element.css({left:this.minus+"px"})}else{$text_element.css({left:"0px"})}},_set_text_div_width_ver:function(){if(!this.options.vert_text_mode){this.slider_text.css({width:this.max_size+"px"})}else{if(this.under_600==0)this.slider_text.css({left:this.ret_values.height+"px"})}},create_html:function(){this.items_counts=this.options.map.length;var t,n,r;var i='<div class="'+this.options.container_class+'"><div class="image_more_info"><a href="#"><img alt="" src="images/more.png"></a></div>';this._start=-1;this._end=this.max_show-1;var s;for(t=this._start;t<this._end;t++){n=this.options.map[this.math._convert_position_to_image_array(0,t)].image;s=this.math._calculate_child_coordinates_by_n(t);i+=this._create_a_html_for_a_child(n,s.new_pos)}var o=this.options.max_shown_items*this.options.child_div_width;if(this.options.preload_all_images){for(t=0;t<this.items_counts;t++){e("<img/>")[0].src=this.options.map[t].image}}i+=this._create_arrows();if(this.options.hv_switch)i+='<div class="clear"></div></div>';else i+="</div>";this.$element.prepend(i);this.$container=e("div."+this.options.container_class,this.$element);this.$container.mousedown(e.proxy(this._mouse_down,this));this.$container.mouseup(e.proxy(this._mouse_up,this));this.$element.mouseenter(e.proxy(this._mouse_enter_widget,this));this.$element.mouseleave(e.proxy(this._mouse_leave_widget,this));this.$container.mouseleave(e.proxy(this._mouse_leave,this));this.$container.mousemove(e.proxy(this._mouse_move,this));this.$container.on("touchstart",e.proxy(function(e){e.preventDefault();var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];if(this.touch_event){this.touch_event=0;return}this._mouse_down(t,1)},this));this.$container.on("touchend",e.proxy(function(e){e.preventDefault();var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];this._mouse_up(t)},this));this.$container.on("touchmove",e.proxy(function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];n.touched=1;var r=e(this.$container).offset();var i=n.pageX-r.left+this.minus;var s=n.pageY-r.top;if(i<e(this.$container).width()&&i>0&&s<e(this.$container).height()&&s>0)this._mouse_move(n);else this._mouse_leave(n)},this))},_set_prettyPhoto_div_position:function(){this.prettyPhoto_left=this._return_middle_position_of_content()-Math.floor(this.options.big_pic_width/2)+Math.floor(this.options.big_pic_width*this.options.prettyPhoto_start);var e=0;if(this.options.top_offset>0)e=this.options.top_offset-Math.floor(this.options.big_pic_height/2);this.prettyPhoto_top=e+Math.floor(this.options.big_pic_height*this.options.prettyPhoto_start);if(this.options.hv_switch){this.$prettyPhoto_div.css({top:this.prettyPhoto_left+"px",left:this.prettyPhoto_top+"px"})}else{this.$prettyPhoto_div.css({left:this.prettyPhoto_left+"px",top:this.prettyPhoto_top+"px"})}},_set_parent_window_size:function(t,n){if(typeof t=="undefined")t=0;if(typeof n=="undefined")n=0;this.ret_values={height:0,width:0};this.ret_values.height=2*this.options.top_offset+this.options.shadow_offset;var r=this.math._calculate_child_coordinates_by_n(this.max_show-1,0);r.new_pos2=r.new_pos+this.options.left_offset;wrapper_text_max_height=this.options.wrapper_text_max_height;var i=e(this.options.text_field_id_prefix+this.last_middle,this.$element);if(this.minus>0&&this.last_middle>-1){$block=e("div.content_slider_text_block_wrap",i);if($block.length){if(typeof this.last_text_width=="undefined")this.last_text_width=i.width();var s=e(window).width();if(this.options.max_shown_items==1){s=this.options.big_pic_width+63}i.css("width",s-10+"px")}}var o=i.height();var u=this.$parent_wrapper.height();var a=this.ret_values.height+o+10;if(a>wrapper_text_max_height)wrapper_text_max_height=a;if(t){if(!this.options.hv_switch){if(n!=0)this.$parent_wrapper.css({width:n+"px"});this.$element.css({height:wrapper_text_max_height+"px"});return}else{this.$element.css({width:n+"px"});return}}if(r.new_pos<=0)return;this.container_height=this.ret_values.height;if(this.options.hv_switch){this.$container.css({height:r.new_pos+"px",width:this.ret_values.height+"px"});this.$element.css({height:r.new_pos2+"px",width:this.options.wrapper_text_max_height+"px"})}else{this.$container.css({width:r.new_pos+"px",height:this.ret_values.height+"px"});this.$element.css({width:r.new_pos2+"px",height:wrapper_text_max_height+"px"});if(this.real_width==0)this.real_width=r.new_pos2}this.ret_values.width=r.new_pos},_return_container_width_height:function(){return this.ret_values},_return_middle_position_of_content:function(){var e=this.math._calculate_child_coordinates_by_n(this.mid_elem+1,0);e.new_pos+=Math.floor(this.options.big_pic_width/2)+this.options.big_border;return e.new_pos},_create_arrows:function(){var e;if(this.options.hv_switch){if(this.options.border_on_off==0||this.options.use_thin_arrows==1){e='<div class="circle_slider_nav_left"><img src="images/left_vertical2.png" alt="left" /></div>';e+='<div class="circle_slider_nav_right"><img src="images/right_vertical2.png" alt="right" /></div>'}else{e='<div class="circle_slider_nav_left"><img src="images/left_vertical.png" alt="left" /></div>';e+='<div class="circle_slider_nav_right"><img src="images/right_vertical.png" alt="right" /></div>'}}else{if(this.options.border_on_off==0||this.options.use_thin_arrows==1){e='<div class="circle_slider_nav_left"><img src="images/left2.png" alt="left" /></div>';e+='<div class="circle_slider_nav_right"><img src="images/right2.png" alt="right" /></div>'}else{e='<div class="circle_slider_nav_left"><img src="images/left.png" alt="left" /></div>';e+='<div class="circle_slider_nav_right"><img src="images/right.png" alt="right" /></div>'}}return e},_hide_arrows:function(t){if(this.options.border_on_off==0||this.options.use_thin_arrows==1)move_more=4;else move_more=0;if(t){this.hide_text(this.math._convert_position_to_image_array(0,this.mid_elem),1);this.arrow_hidden_counter=0;if(this.options.hv_switch){this.$left_arrow.animate({top:this.options.arrow_width+move_more},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_hidden,this));this.$right_arrow.animate({top:-this.options.arrow_width},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_hidden,this))}else{this.$left_arrow.animate({left:this.options.arrow_width+move_more},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_hidden,this));this.$right_arrow.animate({left:-this.options.arrow_width},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_hidden,this))}}else{this.hide_text(this.math._convert_position_to_n(this.mid_elem-2),0);if(this.options.hv_switch){this.$left_arrow.css({top:this.options.arrow_width+move_more});this.$right_arrow.css({top:-this.options.arrow_width})}else{this.$left_arrow.css({left:this.options.arrow_width+move_more});this.$right_arrow.css({left:-this.options.arrow_width})}}},_arrows_hidden:function(){if(this.arrow_hidden_counter>=1){this.func();this.arrow_hidden_counter=0}else this.arrow_hidden_counter++},_arrows_shown:function(){this.clicked=0},_show_arrows:function(){this.slider_state=0;var t=0;if(this.options.hv_switch){if(this.options.border_on_off==0||this.options.use_thin_arrows==1)t=34;this.$left_arrow.animate({top:0},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_shown,this));this.$right_arrow.animate({top:t+"px"},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_shown,this))}else{if(this.options.border_on_off==0||this.options.use_thin_arrows==1)t=6;this.$left_arrow.animate({left:0},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_shown,this));this.$right_arrow.animate({left:t+"px"},this.options.arrow_speed,this.options.arrow_easing,e.proxy(this._arrows_shown,this))}this.show_text(this.math._convert_position_to_image_array(0,this.mid_elem));if(this.last_c.master_click==1||this.is_touch_device)this._start_main_hover();this.$element.trigger("open",[this.last_middle])},_align_arrows:function(){var e=this.math._calculate_arrows_positions();if(this.options.hv_switch){this.$left_arrow_class.css({top:e.first_arrow_x,left:e.arrow_y});this.$right_arrow_class.css({top:e.second_arrow_x,left:e.arrow_y})}else{this.$left_arrow_class.css({left:e.first_arrow_x,top:e.arrow_y});this.$right_arrow_class.css({left:e.second_arrow_x,top:e.arrow_y})}},_set_arrows_events:function(){this.$left_arrow.click(e.proxy(function(e){e.preventDefault();this.right_clicked()},this));this.$right_arrow.click(e.proxy(function(e){e.preventDefault();this.left_clicked()},this));this.$left_arrow.mouseup(e.proxy(function(e){e.preventDefault();this._arrow_mouse_up()},this));this.$right_arrow.mouseup(e.proxy(function(e){e.preventDefault();this._arrow_mouse_up()},this));this.$left_arrow.on("touchstart",e.proxy(function(e){e.preventDefault();this.touch_event=1;this._arrow_mouse_up()},this));this.$right_arrow.on("touchstart",e.proxy(function(e){e.preventDefault();this.touch_event=2;this._arrow_mouse_up()},this));this.$left_arrow.mouseleave(e.proxy(function(){this._arrow_mouse_leave()},this));this.$right_arrow.mouseleave(e.proxy(function(){this._arrow_mouse_leave()},this));this.$left_arrow.mousedown(e.proxy(function(e){e.preventDefault();this._arrow_mouse_down()},this));this.$right_arrow.mousedown(e.proxy(function(e){e.preventDefault();this._arrow_mouse_down()},this));this.$left_arrow.on("touchend",e.proxy(function(e){e.preventDefault();this._arrow_mouse_down()},this));this.$right_arrow.on("touchend",e.proxy(function(e){e.preventDefault();this._arrow_mouse_down()},this))},hide_text:function(t,n){$text_element=e(this.options.text_object,this.$element);this.last_parent_height=this.$parent_wrapper.height();if(this.options.small_resolution_max_height==0&&this.options.hv_switch&&this.under_600)this.$parent_wrapper.css("height",this.last_parent_height+"px");if(n)$text_element.fadeOut();else $text_element.hide()},show_text:function(t,n,r){if(typeof n=="undefined")n=0;if(typeof r=="undefined")r=0;this.last_middle=t;var i=e(this.options.text_field_id_prefix+t,this.$element);var s=e("div.circle_slider_text_wrapper_v2",i);if(s.length)this.options.vert_text_mode=1;else this.options.vert_text_mode=0;if(typeof this.options.map[t].link_url!="undefined"){this.$prettyPhoto_a.attr("href",this.options.map[t].link_url)}else{this.$prettyPhoto_a.attr("href","")}if(typeof this.options.map[t].link_rel!="undefined"){this.$prettyPhoto_a.attr("rel",this.options.map[t].link_rel)}else{this.$prettyPhoto_a.attr("rel","")}var o=e("."+this.options.left_text_class,i);if(this.options.small_resolution_max_height==0)this.$parent_wrapper.css("height","");if(n==0)i.fadeIn();if(this.options.hv_switch==0){if(this.minus>0)this._set_parent_window_size(1);else{if(this.options.automatic_height_resize){this.ret_values={height:0,width:0};this.ret_values.height=2*this.options.top_offset+this.options.shadow_offset;var u=i.height();var a=this.$parent_wrapper.height();var f=this.ret_values.height+u+10;if(f!=this.last_height){if(f<this.options.wrapper_text_max_height)f=this.options.wrapper_text_max_height;this.last_height=f;this.$element.animate({height:f+"px"},300,"linear")}}}}if(this.options.hv_switch){if(this.options.vert_text_mode){var l=i.width();if(l>=this.max_size||r){o.css({width:this.max_size*2+"px"})}var c=o.height();if(this.under_600==0)i.css({top:this.mid-c-this.options.left_text_class_padding+"px"})}else{$block=e("div.content_slider_text_block_wrap",i);if($block.length){var h;if(this.under_600==0){var p=e(window).width();if(this.options.max_shown_items==1){p=this.options.big_pic_width+63}if(p>this.options.wrapper_text_max_height)h=this.options.wrapper_text_max_height-this.container_height-2;else h=p-this.container_height-20}else h=this.options.big_pic_width;i.css({width:h+"px"})}else i.css({width:""});var c=i.height();var d=this.mid-Math.floor(c/2);if(d<0)d=0;if(this.under_600==0)i.css({top:d+"px"})}}else{if(this.minus>0){var p=this.last_resolution;$block=e("div.content_slider_text_block_wrap",i);if($block.length){if(typeof this.last_text_width=="undefined")this.last_text_width=i.width();i.css("width",p-10+"px")}}}},_preset_all_children_parameters:function(t,n){set_img=0;var r;var s;this.do_animate=t;for(i=0;i<this.max_show;i++){r=this.math._calculate_child_coordinates_by_n(i,this.operation);if(t)s=this.math._calculate_method_for_child_by_n(i,n);else s=0;this.items[i]._set_pos_size(r.new_pos,this.speed,r.new_y_pos,r.new_siz.width,r.new_siz.height,r.new_border,s,e.proxy(this._animation_done,this))}if(set_img){for(i=-1;i<this.max_show-1;i++){var o=this.math._convert_position_to_n(i);var u=this.options.map[this.math._convert_position_to_image_array(0,i)].image;this.items[o]._set_img(u)}}},_stop_children:function(){for(i=0;i<this.number_of_items;i++){this.items[i].reset_positions()}if(this.prettyPhoto_status){if(this.prettyPhoto_status==1){this.$prettyPhoto_div.stop();this.$prettyPhoto_img.stop()}this._end_main_hover2();this.prettyPhoto_status=0;this.hover_status=0;this.mouse_in_animation=0;this.mouse_out_animation=0}},_mouse_down:function(e,t){if(this.ignore_click_down){this.ignore_click_down=0;return}if(typeof t=="undefined")t=0;if(t==0)if(typeof e!="undefined")e.preventDefault();this.mouse_moved=0;if(this.hover_status!=0)this._end_main_hover2();if(typeof e!="undefined")if(typeof e.pageX!="undefined"){if(this.options.hv_switch)var n=e.pageY-this.offset;else var n=e.pageX-this.offset+this.minus}var r=n-this.last_mouse_x;this.last_mouse_x=n;this.slider_state=1;this.mouse_state=1;if(!this.clicked){this.show_mouse_move=1;this.clicked=1}var i=this.$container.offset();if(this.options.hv_switch){this.offset=i.top}else{this.offset=i.left+this.minus}this.was_gone=0},_mouse_up:function(e){if(this.ignore_click_up){this.ignore_click_up=0;return}this.mouse_state=0;this._stop_children();if(this.show_mouse_move){var t=1;this.show_mouse_move=0;if(Math.abs(this.math.sum_movement)==0&&!this.was_gone){this.func=0;t=0;if(this.options.hv_switch)var n=this.math._change_master_position_by_x(e.pageY-this.offset);else var n=this.math._change_master_position_by_x(e.pageX-this.offset+this.minus);this.last_c=n;if(n.master_click){if(this.options.middle_click==1){t=1;this.going_counter=-1;n.pos=1}if(this.options.middle_click==2){t=1;this.going_counter=1;n.pos=-1}if(this.options.middle_click==0){this.slider_state=0;this.clicked=0}}this.speed=(this.mid_elem-Math.abs(n.pos)+1)*this.options.moving_speed+this.options.moving_speed_offset;if(!t)this.going_counter=-n.pos;this.keep_going=1;if(n.pos<0){this.click=2;if(n.pos<-1)this.operation=1;else this.operation=0;this.func=this.go_right;this._hide_arrows(1)}if(n.pos>0){this.click=1;if(n.pos>1)this.operation=1;else this.operation=0;this.func=this.go_left;this._hide_arrows(1)}if(n.pos==0){this.keep_going=0}return}else{this._reorder();this.click=0}}},_arrow_mouse_up:function(){this.keep_going=1;this.click=0;this.armd=0},_arrow_mouse_down:function(){this.armd=1;this.clicked=1},_arrow_mouse_leave:function(){if(this.armd){this.clicked=0;this.armd=0}},_mouse_move:function(t){this.mouse_moved=1;if(typeof t.touched=="undefined")t.preventDefault();var n=this.$container.offset();if(this.options.hv_switch){this.offset=n.top}else{this.offset=n.left+this.minus}var r=e(this.$element).offset();this.y_offset=r.top;var i,s;if(typeof t!="undefined")if(typeof t.pageX!="undefined"){if(this.options.hv_switch)i=t.pageY-this.offset;else i=t.pageX-this.offset+this.minus;s=i-this.last_mouse_x}if(this.show_mouse_move&&this.clicked){this._move_all(s);if(Math.abs(this.sum_movement)>=1&&!this.was_gone){this.was_gone=1;this._hide_arrows(0)}}this.last_mouse_x=i;if(this.show_mouse_move==1||this.slider_state==1)return;var o={pos:0,master_click:0};if(typeof t!="undefined")if(typeof t.pageX!="undefined"){if(this.options.hv_switch){i=t.pageY-this.y_offset}else{if(this.minus==0){i=t.pageX-this.x_offset+this.minus}else{i=t.pageX-this.parent_x_offset+this.minus}}o=this.math._convert_x_position_to_n(i)}if(o.master_click==1){if(this.hover_status==2||this.mouse_in_animation==1)return;if(this.mouse_out_animation==1){this.$prettyPhoto_div.stop();this.$prettyPhoto_img.stop();this.mouse_out_animation=0}this.hover_status=1;this.mouse_in_animation=1;this._start_main_hover()}else{if(this.hover_status==2||this.hover_status==1&&this.mouse_out_animation==0)this._fake_mouse_leave()}},_start_main_hover:function(){if(this.$prettyPhoto_a.attr("href")=="")return;var t=this.prettyPhoto_left-this.options.prettyPhoto_movement-10;var n=this.prettyPhoto_top-this.options.prettyPhoto_movement-10;var r=this.options.prettyPhoto_width+3;this.prettyPhoto_status=1;if(this.options.hv_switch==0){this.$prettyPhoto_div.animate({left:t+"px",top:n+"px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing,e.proxy(this._ending_main_hover,this))}else{this.$prettyPhoto_div.animate({left:n+"px",top:t+"px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing,e.proxy(this._ending_main_hover,this))}this.$prettyPhoto_img.animate({width:r+"px",padding:"11px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing)},_ending_main_hover:function(){var t=this.prettyPhoto_left-this.options.prettyPhoto_movement;var n=this.prettyPhoto_top-this.options.prettyPhoto_movement;var r=this.options.prettyPhoto_width;if(this.options.hv_switch==0){this.$prettyPhoto_div.animate({left:t+"px",top:n+"px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing,e.proxy(this._end_main_hover,this))}else{this.$prettyPhoto_div.animate({left:n+"px",top:t+"px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing,e.proxy(this._end_main_hover,this))}this.$prettyPhoto_img.animate({width:r+"px",padding:"10px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing)},_end_main_hover:function(){this.prettyPhoto_status=2;this.hover_status=2;this.mouse_in_animation=0},_fake_mouse_leave:function(){if(this.$prettyPhoto_a.attr("href")=="")return;if(this.mouse_in_animation==1){this.$prettyPhoto_div.stop();this.$prettyPhoto_img.stop();this.mouse_in_animation=0}this.hover_status=1;this.mouse_out_animation=1;this._end_main_hover2()},_end_main_hover2:function(){var t=this.prettyPhoto_left;var n=this.prettyPhoto_top;this.prettyPhoto_status=1;if(this.options.hv_switch==0){this.$prettyPhoto_div.animate({left:t+"px",top:n+"px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing,e.proxy(this._main_hover_ended,this))}else{this.$prettyPhoto_div.animate({left:n+"px",top:t+"px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing,e.proxy(this._main_hover_ended,this))}this.$prettyPhoto_img.animate({width:"0px",padding:"0px"},this.options.prettyPhoto_speed,this.options.prettyPhoto_easing)},_main_hover_ended:function(){this.prettyPhoto_status=0;this.hover_status=0;this.mouse_out_animation=0},_mouse_enter_widget:function(e){if(this.is_auto_play==1)this.dismiss_auto_play=1},_mouse_leave_widget:function(e){this.dismiss_auto_play=0},_mouse_leave:function(e){if(this.show_mouse_move&&!this.click){this.show_mouse_move=0;this._reorder()}if(this.hover_status==2||this.hover_status==1&&this.mouse_out_animation==0)this._fake_mouse_leave()},_reorder:function(){var e=this.math.sum_movement;this.speed=(this.mid_elem+1)*this.options.moving_speed+this.options.moving_speed_offset;if(Math.abs(this.math.sum_movement)<this.options.child_div_width/2){this.math._clear_movement();this._preset_all_children_parameters(1,0,1)}else{this.math._clear_movement();if(e<0){this.math._rotate_right(1);this._preset_all_children_parameters(1,0,1)}if(e>0){this.math._rotate_left(1);this._preset_all_children_parameters(1,1,1)}}this.sum_movement=0},_create_a_html_for_a_child:function(e,t){var n="";if(this.options.activate_border_div)n='<div class="'+this.options.border_class+'"></div>';return'<div class="'+this.options.picture_class+'" style="left: '+t+'px;">'+n+'<img src="'+e+'"/></div>'},left_clicked:function(e){this.speed=(this.mid_elem+1)*this.options.moving_speed+this.options.moving_speed_offset;if(typeof e!="undefined")e.preventDefault();this.func=this.go_left;this.click=1;this.going_counter=-1;this.$element.trigger("next");this._animation_begin()},right_clicked:function(e){this.speed=(this.mid_elem+1)*this.options.moving_speed+this.options.moving_speed_offset;if(typeof e!="undefined")e.preventDefault();this.func=this.go_right;this.click=2;this.going_counter=1;this.$element.trigger("prev");this._animation_begin()},go_right:function(){if(this.lock==1)return;this.lock=1;this.math.sum_movement=this.sum_movement=0;if(this.keep_going==1&&this.going_counter>0)this.going_counter--;this.anim_counter=0;this._set_first_left();this.math._rotate_left(1);this._preset_all_children_parameters(1,1)},go_left:function(){if(this.lock==1)return;this.lock=1;this.math.sum_movement=this.sum_movement=0;if(this.keep_going==1&&this.going_counter<0)this.going_counter++;this.anim_counter=0;this._set_first_right();this.math._rotate_right(1);this._preset_all_children_parameters(1,0)},_animation_begin:function(){this.show_mouse_move=0;this.anim_counter=0;this.keep_going=1;this.do_animate=1;this._hide_arrows(1)},_animation_done:function(){var e;if(this.do_animate)e=this.max_show+(this.max_show-3);else e=this.max_show+(this.max_show-2);if(this.anim_counter>=e){this.anim_counter=0;this.lock=0;if(this.click==1){if(this.keep_going!=0){if(this.going_counter!=0){this.operation=0;if(this.going_counter<-1)this.operation=1;this.go_left()}else{this.keep_going=0;this.click=0}}else{this.go_left()}}if(this.click==2){if(this.keep_going!=0){if(this.going_counter!=0){this.operation=0;if(this.going_counter>1)this.operation=1;this.go_right()}else{this.keep_going=0;this.click=0}}else{this.go_right()}}if(this.click==0){this._show_arrows();this.operation=0}return}this.anim_counter++},_move_all:function(e){var t=0;this._set_first_left();this._set_first_right();while(Math.abs(e)>=this.options.child_div_width){if(e>0){this.math._add_movement(this.options.child_div_width);this._set_first_left();e-=this.options.child_div_width}else{this.math._add_movement(-this.options.child_div_width);this._set_first_right();e+=this.options.child_div_width}}this.math._add_movement(e);if(e>0){this._set_first_left();t=1}else{this._set_first_right();t=0}this._preset_all_children_parameters(0,t);this.sum_movement=this.math.sum_movement},_set_first_right:function(){this.items[this.math._next_right_n()]._set_img(this.options.map[this.math._next_right_image()].image)},_set_first_left:function(){this.items[this.math._next_left_n()]._set_img(this.options.map[this.math._next_left_image()].image)},start_auto_play:function(){var e=this;this.dismiss_auto_play=0;this.is_auto_play=1;if(this.options.auto_play_direction==1)this.timeout_autoplay_handler=setInterval(function(){e.public_go_left()},e.options.auto_play_pause_time);else this.timeout_autoplay_handler=setInterval(function(){e.public_go_right()},e.options.auto_play_pause_time)},stop_auto_play:function(){this.dismiss_auto_play=1;if(this.is_auto_play==1){clearInterval(this.timeout_autoplay_handler)}this.is_auto_play=0},get_auto_play_status:function(){return this.is_auto_play},get_number_of_current_slide:function(){return this.last_middle}};r.prototype={_convert_n_to_position:function(e){return this._windowing(this.div_window_lenght,e-this.position_n_offset)+this.beginning_position_number},_convert_position_to_n:function(e){return this._windowing(this.div_window_lenght,e-this.beginning_position_number+this.position_n_offset)},_convert_position_to_image_array:function(e,t){return this._windowing(this.image_array_lenght,t-this.beginning_position_number+this.n_img_offset+this.position_n_offset+e*this.div_window_lenght)},_next_left_image:function(){return this._convert_position_to_image_array(0,this.beginning_position_number)},_next_right_image:function(){return this._convert_position_to_image_array(0,this.visible_window_lenght)},_next_left_n:function(){return this._convert_position_to_n(this.beginning_position_number)},_next_right_n:function(){return this._convert_position_to_n(this.visible_window_lenght)},_rotate_left:function(e){var t=this.position_n_offset;this.position_n_offset=this._windowing(this.div_window_lenght,this.position_n_offset-e);if(t<this.position_n_offset){this.n_img_offset=this._windowing(this.image_array_lenght,this.n_img_offset-Math.floor((Math.abs(e)+this.div_window_lenght)/this.div_window_lenght)*this.div_window_lenght)}},_rotate_right:function(e){var t=this.position_n_offset;this.position_n_offset=this._windowing(this.div_window_lenght,this.position_n_offset+e);if(t>this.position_n_offset){this.n_img_offset=this._windowing(this.image_array_lenght,this.n_img_offset+Math.floor((Math.abs(e)+this.div_window_lenght)/this.div_window_lenght)*this.div_window_lenght)}},_change_master_position_by_x:function(e){this.sum_movement=0;var t=this.mid_elem*this.element_width;var n=t+this.master_element_width+2*this.big_border+2*this.arrow_width;var r;if(e<=t){r=Math.floor(e/this.element_width);r=this.mid_elem-r;return{pos:-r,master_click:0}}if(e<n){return{pos:0,master_click:1}}e=e-n+this.element_width;r=Math.floor(e/this.element_width);return{pos:r,master_click:0}},_convert_x_position_to_n:function(e){var t=this.mid_elem*this.element_width;var n=t+this.master_element_width+2*this.big_border+2*this.arrow_width;var r;if(e<=t){r=Math.floor(e/this.element_width);r=this.mid_elem-r;return{pos:-r,master_click:0}}if(e<n){return{pos:0,master_click:1}}e=e-n+this.element_width;r=Math.floor(e/this.element_width);return{pos:r,master_click:0}},_calculate_child_size_by_ratio:function(e){var t=this.big_pic_width-this.small_pic_width;var n=this.big_pic_height-this.small_pic_height;var r;var i;t=t*e;t+=this.small_pic_width;n=n*e;n+=this.small_pic_height;r=Math.floor((this.big_pic_width-this.small_pic_width)/2)-Math.floor(t/2);i=Math.floor((this.big_pic_height-this.small_pic_height)/2)-Math.floor(n/2);return{width:t,height:n,margin_left:r,margin_top:i}},_calculate_arrows_positions:function(){var e=this.big_border;if(this.parent_this.options.activate_border_div)e=0;var t=this.mid_elem*this.element_width+Math.ceil(e)+this.left_offset-1;var n=this.top_offset-Math.ceil(this.arrow_height/2);if(this.parent_this.options.activate_border_div){t+=this.big_border;n-=this.big_border}if(this.parent_this.options.border_on_off==0||this.parent_this.options.use_thin_arrows==1){t-=e+5;n-=Math.ceil(e/2)+1}var r=this.mid_elem*this.element_width+this.master_element_width+this.arrow_width+e+this.left_offset+1;if(this.parent_this.options.border_on_off==0&&this.parent_this.options.use_thin_arrows==0){r-=Math.ceil(e)+2}if(this.parent_this.options.use_thin_arrows==1){r-=Math.ceil(e)-1}if(this.parent_this.options.activate_border_div)r-=this.big_border;return{first_arrow_x:t,second_arrow_x:r,arrow_y:n}},_calculate_child_coordinates_by_n:function(e,t){var n=this._convert_n_to_position(e);if(typeof t=="undefined")t=0;var r=Math.abs(this.sum_movement);var i=r/this.element_width;var s=1-i;var o=0;var u=this.top_offset;var a;var f;var l=this.small_border;var c=this.element_width;var h=this.master_element_width;var p=this.master_element_width-this.element_width;var d=n*c+this.sum_movement;var v=i*p;var m=s*p;var g=this.element_width-this.small_pic_width;var y=this.master_element_width+2*this.arrow_width;var b=y-this.element_width;var w=this.element_width+i*b;var E=this.element_width+s*b;var S=i*this.arrow_width;var x=m+s*(this.arrow_width+g+2*this.big_border);var T=p+2*this.arrow_width;var N=s*this.arrow_width;var C=i*g;if(this.sum_movement<=0){if(n<this.mid_elem){o=d;a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}if(n==this.mid_elem){l=this.small_border+(this.big_border-this.small_border)*s;o=d+N;if(!t||this.mode==2){a=s;u=this.top_offset-Math.floor(this.small_pic_height/2)-(this.master_element_height-this.small_pic_height)/2*s-this.small_border-(this.big_border-this.small_border)*s}else{a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}}if(n==this.mid_elem+1){l=this.small_border+(this.big_border-this.small_border)*i;o=d+E-this.element_width+(g+this.small_border)*s+this.arrow_width*i;if(!t||this.mode==2){a=i;u=this.top_offset-Math.floor(this.small_pic_height/2)-(this.master_element_height-this.small_pic_height)/2*i-this.small_border}else{a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}}if(n>this.mid_elem+1){o=d+T+g+this.small_border;a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}}else{if(n<this.mid_elem){o=d;a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}if(n==this.mid_elem){l=this.small_border+(this.big_border-this.small_border)*s;o=d+(2*this.arrow_width+this.master_element_width+g+this.small_border-this.element_width)-s*(1*this.arrow_width+this.master_element_width+g+this.big_border-this.small_border-this.element_width);if(!t||this.mode==2){a=s;u=this.top_offset-Math.floor(this.small_pic_height/2)-(this.master_element_height-this.small_pic_height)/2*s-this.small_border-(this.big_border-this.small_border)*s}else{a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}}if(n==this.mid_elem-1){l=this.small_border+(this.big_border-this.small_border)*i;o=d+S;if(!t||this.mode==2){a=i;u=this.top_offset-Math.floor(this.small_pic_height/2)-(this.master_element_height-this.small_pic_height)/2*i-this.small_border}else{a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}}if(n>this.mid_elem){o=d+T+g+this.small_border;a=0;u=this.top_offset-Math.floor(this.small_pic_height/2)-this.small_border}}f=this._calculate_child_size_by_ratio(a);return{new_pos:o+this.left_offset,new_y_pos:u,new_border:l,new_siz:f}},_calculate_method_for_child_by_n:function(e,t){var n=this._convert_n_to_position(e);if(n==-1&&t==1)return 0;if(n==this.visible_window_lenght&&t==0)return 0;return 1},_add_movement:function(e){this.sum_movement+=e;if(Math.abs(this.sum_movement)>=this.element_width){if(this.sum_movement>=0){this._rotate_left(Math.floor(Math.abs(this.sum_movement)/this.element_width));this.sum_movement=this.sum_movement%this.element_width}else{this._rotate_right(Math.floor(Math.abs(this.sum_movement)/this.element_width));this.sum_movement=this.sum_movement%this.element_width}}},_clear_movement:function(){this.sum_movement=0},_windowing:function(e,t){return(e+t%e)%e}};e.fn.content_slider=function(t,r){var i=e(this),s=i.data("tooltip"),o=typeof t=="object"&&t;s||i.data("tooltip",s=new n(this,o));if(typeof r!=="undefined")return s[t](r);else{if(typeof t=="string"){return s[t]()}}};e.fn.content_slider.Constructor=n;e.fn.content_slider.defaults={map:false,max_shown_items:7,active_item:0,top_offset:0,left_offset:0,child_div_width:104,child_div_height:104,small_pic_width:84,small_pic_height:84,big_pic_width:231,big_pic_height:231,small_border:5,big_border:8,arrow_width:28,arrow_height:57,small_arrow_width:20,small_arrow_height:20,moving_speed:70,moving_speed_offset:100,moving_easing:"linear",arrow_speed:300,arrow_easing:"linear",mode:2,left_arrow_class:".circle_slider_nav_left",right_arrow_class:".circle_slider_nav_right",container_class:"circle_slider",container_class_padding:24,picture_class:"circle_slider_thumb",border_class:"circle_item_border",child_final_z_index:100,text_field_id_prefix:"#sw",text_object:".circle_slider_text_wrapper",hv_switch:0,shadow_offset:10,wrapper_text_max_height:810,left_text_class:"circle_slider_text",right_text_class_sufix:"right",left_text_class_padding:20,vert_text_mode:0,middle_click:2,border_on_off:1,activate_border_div:1,hover_movement:6,hover_speed:100,hover_easing:"linear",prettyPhoto_speed:200,prettyPhoto_easing:"linear",prettyPhoto_width:21,prettyPhoto_start:.93,prettyPhoto_movement:45,auto_play:0,auto_play_direction:1,auto_play_pause_time:3e3,allow_shadow:1,small_resolution_max_height:0,preload_all_images:0,border_radius:-1,border_color:"#282828",arrow_color:"#282828",automatic_height_resize:1,bind_arrow_keys:1,use_thin_arrows:0,enable_mousewheel:1,radius_proportion:1}})(jQuery)